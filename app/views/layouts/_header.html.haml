- content_for :profile_menu do
  - if ! user_signed_in?
    = link_to t('profile.sign_up'), :new_user_registration, class: ['nav-item', 'nav-link']
    = link_to t('profile.login'), :new_user_session, class: ['nav-item', 'nav-link']
  - else
    .nav-item.dropdown
      %a#navbarNavProfileMenuLink.nav-link.dropdown-toggle{aria: {haspopup: "true", expanded: "false"}, data: {toggle: "dropdown"}}
        %i.material-icons.md-18<> person
        = t('profile.profile')
        %span.caret>
      .dropdown-menu.dropdown-menu-right{aria: {labelledby: "navbarNavProfileMenuLink"}}
        %h6.dropdown-header<
          = current_user.email
          %br<
          = precede "@" do
            %b>= current_user.id
        .dropdown-divider
        = link_to t('profile.logout'), :destroy_user_session, method: :delete, class: 'dropdown-item'
%nav#navbar.navbar.navbar-expand.navbar-dark.bg-primary

  .container

    %button.navbar-toggler.navbar-toggler-right{aria: {controls: 'navbarNavSiteMenus', expanded: 'false', label: 'Toggle navigation'}, 'aria-label': 'Toggle navigation', data: {toggle: 'collapse', target: '#navbarNavSiteMenus'}, type: 'button'}
      %span.navbar-toggler-icon

    = link_to :root, class: 'h1 navbar-brand mb-0' do
      %img.d-inline-block.align-top{alt: :üèù‚õµÔ∏èüçÄüåø}

    #navbarNavSiteMenus.collapse.navbar-collapse
      .navbar-nav.mr-auto
        = link_to :root, class: ['nav-item', 'nav-link'] do
          %i.material-icons.md-18<> home
          = t('menu.home')
          %span.sr-only> (current)
        = content_for?(:controller_menu) ? yield(:controller_menu) : ''

      .navbar-nav
        = content_for?(:profile_menu) ? yield(:profile_menu) : ''
